{
        "type" : "object",
        "title" : "spider",
        "properties" : {
                "name" : {
                        "type" : "string",
                        "title" : "name"
                },
                "sources" : {
                        "type" : "array",
                        "title" : "sources",
                        "format": "tabs",
                        "items" : {
                                "title" : "source",
                                "headerTemplate": "{{i}} - {{self.name}}",
                                "oneOf" : [
                                        {
                                                "title" : "Fixed Source",
                                                "$ref": "#/definitions/FixedSource"
                                        },
                                        {
                                                "title" : "Jms Source",
                                                "$ref": "#/definitions/JmsSource"
                                        },
                                        {
                                                "title" : "Jdbc Source",
                                                "$ref": "#/definitions/JdbcSource"
                                        },
                                        {
                                                "title" : "Csv Source",
                                                "$ref": "#/definitions/CsvSource"
                                        },
                                        {
                                                "title" : "RobotsTxt Source",
                                                "$ref": "#/definitions/RobotsTxtSource"
                                        }
                                ]
                        }
                },
                "extractors" : {
                        "type" : "object",
                        "title" : "extractors",
                        "properties" : {
                                "pages" : {
                                        "type" : "array",
                                        "title" : "pages",
                        				"format": "tabs",
                                        "items" : {
                                                "type" : "object",
                                                "headerTemplate": "{{i}} - {{self.name}}",
                                                "title" : "page",
                                                "properties" : {
                                                        "key_field" : {
                                                                "type" : "string",
                                                                "title" : "key_field"
                                                        },
                                                        "name" : {
                                                                "type" : "string",
                                                                "title" : "name"
                                                        },
                                                        "multiple" : {
                                                                "title" : "multiple",
                                                                "$ref": "#/definitions/Extractor"
                                                        },
                                                        "store" : {
                                                                "title" : "store",
						                                        "oneOf" : [
						                                                {
						                                                        "title" : "Internal Store",
						                                                        "$ref": "#/definitions/InternalStore"
						                                                }
						                                        ]
                                                        },
                                                        "links" : {
						                                        "title" : "links",
						                                         "$ref": "#/definitions/QueryLinkFilter"
						                                },
                                                        "fields" : {
                                                                "type" : "array",
                                                                "title" : "fields",
                                                                "items" : {
                                                                        "type" : "object",
                                                                        "title" : "field",
                                                                        "properties" : {
                                                                                "first_only" : {
                                                                                        "type" : "boolean",
                                                                                        "title" : "first_only",
                                                                                        "default": true
                                                                                },
                                                                                "name" : {
                                                                                        "type" : "string",
                                                                                        "title" : "name"
                                                                                },
                                                                                "extractor" : {
                                                                                        "title" : "extractor",
                                                                                        "$ref": "#/definitions/Extractor"
                                                                                },
                                                                                "use_multiple" : {
                                                                                        "type" : "boolean",
                                                                                        "title" : "use_multiple",
                                                                                        "default": false
                                                                                }
                                                                        }
                                                                }
                                                        }
                                                }
                                        }
                                },
                                "outlinks" : {
                                        "type" : "array",
                                        "title" : "outlinks",
                        				"format": "tabs",
                                        "items" : {
                                                "type" : "object",
                                                "headerTemplate": "{{i}} - {{self.name}}",
                                                "title" : "outlink",
                                                "properties" : {
                                                        "name" : {
                                                                "type" : "string",
                                                                "title" : "name"
                                                        },
                                                        "extractor" : {
                                                                "title" : "extractor",
                                                                "$ref": "#/definitions/Extractor"
                                                        }
                                                }
                                        }
                                }
                        }
                },
                "stores" : {
                        "type" : "object",
                        "title" : "stores",
                        "properties" : {
                                "metadata" : {
                                        "title" : "metadata",
                                        "oneOf" : [
                                                {
                                                        "title" : "Internal Store",
                                                        "$ref": "#/definitions/InternalStore"
                                                }
                                        ]
                                },
                                "page" : {
                                        "title" : "page",
                                        "oneOf" : [
                                                {
                                                        "title" : "Internal Store",
                                                        "$ref": "#/definitions/InternalStore"
                                                }
                                        ]
                                }
                        }
                },
                "client" : {
                        "type" : "object",
                        "title" : "client",
                        "properties" : {
                                "requester" : {
                                        "title" : "requester",
                                        "options": {
                                                "collapsed": true
                                        },
                                        "oneOf" : [
                                                {
                                                        "title" : "HttpComponent Requester",
                                                        "$ref": "#/definitions/HCRequester"
                                                }
                                        ]
                                },
                                "strategy" : {
                                        "type" : "object",
                                        "title" : "strategy",
                                        "properties" : {
                                                "socket_timeout" : {
                                                        "type" : "integer",
                                                        "title" : "Socket Timeout"
                                                },
                                                "connect_timeout" : {
                                                        "type" : "integer",
                                                        "title" : "connect Timeout"
                                                },
                                                "max_redirects" : {
                                                        "type" : "integer",
                                                        "title" : "max_redirects"
                                                },
                                                "max_parallel" : {
                                                        "type" : "integer",
                                                        "title" : "max_parallel"
                                                },
                                                "reuse_address" : {
                                                        "type" : "boolean",
                                                        "title" : "reuse_address"
                                                },
                                                "request_time_out" : {
                                                        "type" : "integer",
                                                        "title" : "request Time_out"
                                                },
                                                "max_persistent_connections" : {
                                                        "type" : "integer",
                                                        "title" : "max_persistent_connections"
                                                },
                                                "tcp_no_delay" : {
                                                        "type" : "boolean",
                                                        "title" : "tcp_no_delay"
                                                },
                                                "keep_alive" : {
                                                        "type" : "boolean",
                                                        "title" : "keep_alive"
                                                },
                                                "follow_redirects" : {
                                                        "type" : "boolean",
                                                        "title" : "follow_redirects"
                                                },
                                                "politeness" : {
                                                        "type" : "object",
                                                        "title" : "politeness",
                                                        "properties" : {
                                                                "ignore_robots_txt" : {
                                                                        "type" : "boolean",
                                                                        "title" : "ignore_robots_txt"
                                                                },
                                                                "recrawl_after" : {
                                                                        "type" : "integer",
                                                                        "title" : "recrawl_after"
                                                                },
                                                                "max_pages" : {
                                                                        "type" : "integer",
                                                                        "title" : "max_pages"
                                                                }
                                                        }
                                                },
                                                "headers" : {
                                                        "type" : "array",
                                                        "title" : "headers",
                                                        "options": {
                                                                "collapsed": true
                                                        },
                                                        "uniqueItems": true,
                                                        "format": "table",
                                                        "items" : {
                                                                "type" : "object",
                                                                "title" : "header",
                                                                "properties" : {
                                                                        "name" : {
                                                                                "type" : "string",
                                                                                "title" : "name"
                                                                        },
                                                                        "value" : {
                                                                                "type" : "string",
                                                                                "title" : "value"
                                                                        }
                                                                }
                                                        }
                                                },
                                                "params" : {
                                                        "type" : "array",
                        								"format": "tabs",
                                                        "title" : "params",
                                                        "options": {
                                                                "collapsed": true
                                                        },
                                                        "items" : {
                                                                "type" : "object",
                                                                "headerTemplate": "{{i}} - {{self.name}}",
                                                                "title" : "param",
                                                                "properties" : {
                                                                        "name" : {
                                                                                "type" : "string",
                                                                                "title" : "name"
                                                                        },
                                                                        "value" : {
                                                                                "type" : "string",
                                                                                "title" : "value"
                                                                        }
                                                                }
                                                        }
                                                },
                                                "cookies" : {
                                                        "type" : "array",
                                                        "format": "tabs",
                                                        "title" : "cookies",
                                                        "options": {
                                                                "collapsed": true
                                                        },
                                                        "items" : {
                                                                "type" : "object",
                                                                "headerTemplate": "{{i}} - {{self.name}}",
                                                                "title" : "cookie",
                                                                "properties" : {
                                                                		"name" : {
                                                                                "type" : "string",
                                                                                "title" : "name"
                                                                        },
                                                                        "value" : {
                                                                                "type" : "string",
                                                                                "title" : "value"
                                                                        },
                                                                        "max_age" : {
                                                                                "type" : "integer",
                                                                                "title" : "max_age"
                                                                        },
                                                                        "path" : {
                                                                                "type" : "string",
                                                                                "title" : "path"
                                                                        },
                                                                        "expires" : {
                                                                                "type" : "integer",
                                                                                "title" : "expires"
                                                                        },
                                                                        "http_only" : {
                                                                                "type" : "boolean",
                                                                                "title" : "http_only"
                                                                        },
                                                                        "domain" : {
                                                                                "type" : "string",
                                                                                "title" : "domain"
                                                                        },
                                                                        "secure" : {
                                                                                "type" : "boolean",
                                                                                "title" : "secure"
                                                                        }
                                                                }
                                                        }
                                                },
                                                "proxy" : {
                                                        "title" : "proxy",
                                                        "oneOf" : [
                                                                {
                                                                        "title" : "NoProxyProxyServersSource",
                                                                        "$ref": "#/definitions/NoProxyProxyServersSource"
                                                                },
                                                                {
                                                                        "title" : "StaticProxyServersSource",
                                                                        "$ref": "#/definitions/StaticProxyServersSource"
                                                                }
                                                        ]
                                                },
                                                "user_agent_provisionner" : {
                                                        "title" : "User Agent Provisionner",
                                                        "oneOf" : [
                                                                {
                                                                        "title" : "FixedUserAgentProvisionner",
                                                                        "$ref": "#/definitions/FixedUserAgentProvisionner"
                                                                }
                                                        ]
                                                },
                                                "name_resolver" : {
                                                        "title" : "Name Resolver",
                                                        "oneOf" : [
                                                                {
                                                                        "title" : "DNSNameResolver",
                                                                        "$ref": "#/definitions/DNSNameResolver"
                                                                },
                                                                {
                                                                        "title" : "InternalNameResolver",
                                                                        "$ref": "#/definitions/InternalNameResolver"
                                                                }
                                                        ]
                                                }
                                        }
                                }
                        }
                },
                "filters" : {
                        "type" : "object",
                        "title" : "filters",
                        "properties" : {
                                "links" : {
                                        "title" : "links",
                                        "$ref": "#/definitions/QueryLinkFilter"
                                }
                        }
                }
        },
        "definitions": {
                "JmsSource": {
                        "type" : "object",
                        "properties" : {
                                "name" : {
                                        "type" : "string",
                                        "title" : "name"
                                },
                                "type" : {
                                        "type" : "string",
                                        "title" : "type",
                                        "default": "jms",
                                        "options": {
                                                "hidden": true
                                        }
                                },
                                "url" : {
                                        "type" : "string",
                                        "title" : "url"
                                }
                        }
                },
                "FixedSource": {
                        "type" : "object",
                        "properties" : {
                                "name" : {
                                        "type" : "string",
                                        "title" : "name"
                                },
                                "urls" : {
                                        "type" : "array",
                                        "title" : "urls",
                                        "uniqueItems": true,
                                        "format": "table",
                                        "items" : {
                                                "type" : "string",
                                                "title" : "url"
                                        }
                                },
                                "type" : {
                                        "type" : "string",
                                        "title" : "type",
                                        "default": "fixed",
                                        "options": {
                                                "hidden": true
                                        }
                                }
                        }
                },
                "RobotsTxtSource":{
                        "type" : "object",
                        "properties" : {
                                "name" : {
                                        "type" : "string",
                                        "title" : "name"
                                },
                                "robots_txt" : {
                                        "type" : "string",
                                        "title" : "robots_txt"
                                },
                                "max_depth" : {
                                        "type" : "integer",
                                        "title" : "max_depth"
                                },
                                "type" : {
                                        "type" : "string",
                                        "title" : "type",
                                        "default": "robots_txt",
                                        "options": {
                                                "hidden": true
                                        }
                                }
                        }
                },
                "CsvSource": {
                        "type" : "object",
                        "properties" : {
                                "name" : {
                                        "type" : "string",
                                        "title" : "name"
                                },
                                "files" : {
                                        "type" : "array",
                                        "title" : "files",
                                        "uniqueItems": true,
                                        "format": "table",
                                        "items" : {
                                                "type" : "string",
                                                "title" : "file"
                                        }
                                },
                                "type" : {
                                        "type" : "string",
                                        "title" : "type",
                                        "default": "csv",
                                        "options": {
                                                "hidden": true
                                        }
                                }
                        }
                },
                "JdbcSource": {
                        "type" : "object",
                        "properties" : {
                                "name" : {
                                        "type" : "string",
                                        "title" : "name"
                                },
                                "query" : {
                                        "type" : "string",
                                        "title" : "query"
                                },
                                "type" : {
                                        "type" : "string",
                                        "title" : "type",
                                        "default": "jdbc",
                                        "options": {
                                                "hidden": true
                                        }
                                },
                                "url" : {
                                        "type" : "string",
                                        "title" : "url"
                                }
                        }
                },
                "InternalStore": {
                        "type" : "object",
                        "properties" : {
                                "type" : {
                                        "type" : "string",
                                        "title" : "type",
                                        "default": "internal",
                                        "options": {
                                                "hidden": true
                                        }
                                }
                        }
                },
                "HCRequester": {
                        "type" : "object",
                        "properties" : {
                                "max_line_length" : {
                                        "type" : "integer",
                                        "title" : "Max Line Length",
                                        "default": "-1"
                                },
                                "max_header_count" : {
                                        "type" : "integer",
                                        "title" : "Max Header Count",
                                        "default": "-1"
                                },
                                "io_thread_count" : {
                                        "type" : "integer",
                                        "title" : "Io Thread Count",
                                        "default": "8"
                                },
                                "type" : {
                                        "type" : "string",
                                        "title" : "type",
                                        "default": "hc",
                                        "options": {
                                                "hidden": true
                                        }
                                }
                        }
                },
                "FixedUserAgentProvisionner": {
                        "type" : "object",
                        "properties" : {
                                "ua" : {
                                        "type" : "string",
                                        "title" : "ua"
                                },
                                "type" : {
                                        "type" : "string",
                                        "title" : "type",
                                        "default": "fixed",
                                        "options": {
                                                "hidden": true
                                        }
                                }
                        }
                },
                "DNSNameResolver": {
                        "type" : "object",
                        "properties" : {
                                "minTtl" : {
                                        "type" : "integer",
                                        "title" : "minTtl"
                                },
                                "maxTtl" : {
                                        "type" : "integer",
                                        "title" : "maxTtl"
                                },
                                "maxTriesPerQuery" : {
                                        "type" : "integer",
                                        "title" : "maxTriesPerQuery"
                                },
                                "servers" : {
                                        "type" : "array",
                                        "title" : "servers",
                                        "items" : {
                                                "type" : "string",
                                                "title" : "server"
                                        }
                                },
                                "type" : {
                                        "type" : "string",
                                        "title" : "type",
                                        "default": "default",
                                        "options": {
                                                "hidden": true
                                        }
                                }
                        }
                },
                "InternalNameResolver":
                {
                        "type" : "object",
                        "properties" : {
                                "type" : {
                                        "type" : "string",
                                        "title" : "type",
                                        "default": "simple",
                                        "options": {
                                                "hidden": true
                                        }
                                }
                        }
                },
                "QueryLinkFilter":
                {
                	"type" : "object",
                	"properties" : {
                                "type" : {
                                        "type" : "string",
                                        "title" : "type",
                                        "default": "query",
                                        "options": {
                                                "hidden": true
                                        }
                                },
                                "value" : {
                                        "type" : "string",
                                        "title" : "value"
                                }
                        }
                },
                "Extractor": {
		                "type" : "object",
		                "properties" : {
                                "source" : {
                                        "type" : "string",
                                        "title" : "source",
                                        "enum" : [ "EMPTY", "BODY", "HEADERS", "URL", "COOKIE" ]
                                },
                                "type" : {
                                        "type" : "string",
                                        "title" : "type"
                                },
                                "value" : {
                                        "type" : "string",
                                        "title" : "value"
                                }
                        }
                },
                "NoProxyProxyServersSource": {
                        "type" : "object",
                        "properties" : {
                                "type" : {
                                        "type" : "string",
                                        "title" : "type",
                                        "default": "no",
                                        "options": {
                                                "hidden": true
                                        }
                                }
                        }
                },
                "StaticProxyServersSource": {
                        "type" : "object",
                        "properties" : {
                                "servers" : {
                                        "type" : "array",
                                        "title" : "servers",
                                        "items" : {
                                                "type" : "object",
                                                "title" : "server",
                                                "properties" : {
                                                        "principal" : {
                                                                "type" : "string",
                                                                "title" : "principal"
                                                        },
                                                        "charset" : {
                                                                "type" : "string",
                                                                "title" : "charset"
                                                        },
                                                        "nonProxyHosts" : {
                                                                "type" : "array",
                                                                "title" : "nonProxyHosts",
                                                                "items" : {
                                                                        "type" : "string",
                                                                        "title" : "nonProxyHost"
                                                                }
                                                        },
                                                        "protocol" : {
                                                                "type" : "string",
                                                                "title" : "protocol",
                                                                "enum" : [ "HTTP", "HTTPS", "NTLM", "KERBEROS", "SPNEGO" ]
                                                        },
                                                        "password" : {
                                                                "type" : "string",
                                                                "title" : "password"
                                                        },
                                                        "ntlmDomain" : {
                                                                "type" : "string",
                                                                "title" : "ntlmDomain"
                                                        },
                                                        "scheme" : {
                                                                "type" : "string",
                                                                "title" : "scheme",
                                                                "enum" : [ "DIGEST", "BASIC", "NTLM", "SPNEGO", "KERBEROS", "NONE" ]
                                                        },
                                                        "port" : {
                                                                "type" : "integer",
                                                                "title" : "port"
                                                        },
                                                        "host" : {
                                                                "type" : "string",
                                                                "title" : "host"
                                                        },
                                                        "url" : {
                                                                "type" : "string",
                                                                "title" : "url"
                                                        },
                                                        "ntlmHost" : {
                                                                "type" : "string",
                                                                "title" : "ntlmHost"
                                                        }
                                                }
                                        }
                                },
                                "type" : {
                                        "type" : "string",
                                        "title" : "type",
                                        "default": "static",
                                        "options": {
                                                "hidden": true
                                        }
                                }
                        }
                }
        }
}
